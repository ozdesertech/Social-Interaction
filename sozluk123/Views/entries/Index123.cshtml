@using sozluk123.Models
@*@model IEnumerable<sozluk123.Models.entry>*@
@model lstentries1


<div id="dataModel"></div>

<script src="~/Scripts/jquery-3.4.0.min.js"></script>
<script src="~/Scripts/jquery.signalR-2.4.3.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script src='/signalr/js'></script>
<script type="text/javascript">
   
   
</script>

<script type="text/javascript">
    //if ($('.modal.in, .modal.show').length) {
    
       
    //    console.log("opened");
    //}
    /*if ($('#AddUpdateModelPopup').is(':visible')) {*/
   
    var hubNotify = $.connection.entriesHub;


    $.connection.hub.start().done(function () {
        getAll();

    });

    hubNotify.client.refreshEmployeeData = function () {
        gethtmldata();
        if ($('#AddUpdateModelPopup').is(':visible')) {
            console.log("trx");
        }
        else {

            getAll();
        }
       
    };
    
   

    //setInterval(function () {
    //    if ($('#AddUpdateModelPopup').is(':visible')) {
            
    //    }
    //    else {
           
    //        getAll();
    //    }
    //    gethtmldata();
    //}, 300);
   
    

    function getAll() {
        var model = $('#dataModel');
        $.ajax({
            url: '/entries/GetEmployeeData',
            contentType: 'application/html ; charset:utf-8',
            type: 'GET',
            dataType: 'html',
            success: function (result) { model.empty().append(result); }
        });
    }

    function gethtmldata() {
        $.ajax({
            url: '/entries/GetEmployeeData',
            contentType: 'application/html ; charset:utf-8',
            type: 'GET',
            dataType: 'html',
            success: function (data) {
                $('#content').empty();
                $('#content').innerHTML = data;
                /*console.log($('#content').innerHTML = data);*/
                
                
                
            }
        });
    };

</script>

<div id="content">
    
</div>

<script type="text/javascript"> 
   
    

    
   
    
    

   
</script>